(function(e){function t(t){for(var i,o,u=t[0],a=t[1],c=t[2],p=0,d=[];p<u.length;p++)o=u[p],s[o]&&d.push(s[o][0]),s[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,u=1;u<n.length;u++){var a=n[u];0!==s[a]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={price:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=a;r.push([1,"chunk-vendors"]),n()})({"086a":function(e,t,n){},1:function(e,t,n){e.exports=n("afc4")},4243:function(e){e.exports=[{qid:"0",type:"button",q:"Quel type de développement ?",decision:!0,c:[{text:"Site web",price:[200,1e3]},{text:"Application mobile",help:"Application Android uniquement",price:[1e3,2e3]}]},{qid:"0.1.1",type:"slider",q:"Nombre potentiel de pages ?",min:1,max:15,step:1,price:100},{qid:"0.1.2",type:"button",q:"Quel type de site web ?",decision:!0,c:[{text:"Vitrine",help:"",price:[200,500]},{text:"Dynamique",help:"",price:[500,1e3]}]},{qid:"0.1.2.1.1",type:"button",q:"Faut-il une page de contact ?",c:[{text:"Oui",help:"Cette page permet aux visiteurs de votre site de vous contacter.",price:[200,300]},{text:"Non"}]},{qid:"0.1.2.2.1",type:"button",q:"Faut-il un accès administrateur restreint ?",c:[{text:"Oui",help:"",price:[500,1500]},{text:"Non"}]},{qid:"0.1.2.2.2",type:"button",q:"Faut-il une base de données ?",decision:!0,c:[{text:"Oui",help:"Indispensable pour sauvegarder des donéees.",price:500},{text:"Non"}]},{qid:"0.1.2.2.2.1.1",type:"slider",q:"Nombre potentiel de tables ?",min:1,max:30,step:1,price:75},{qid:"0.1.2.2.2.1.2",type:"button",q:"Les utilisateurs doivent pouvoir se connecter ?",c:[{text:"Oui",help:"",price:1e3},{text:"Non"}]},{qid:"0.2.1",type:"button",q:"Quelle plateforme ?",c:[{text:"Android",help:""},{text:"Multi-Plateforme",help:""}]},{qid:"0.2.2",type:"slider",q:"Nombre potentiel de visuels ?",min:1,max:30,step:1},{qid:"0.2.3",type:"button",q:"Besoin d'une API externe ?",c:[{text:"Oui",help:""},{text:"Non",help:""}]},{qid:"0.2.4",type:"button",q:"Besoin d'un backend ?",c:[{text:"Oui",help:""},{text:"Non",help:""}]},{qid:"0.2.5",type:"button",q:"Faut-il une base de données ?",decision:!0,c:[{text:"Oui",help:"Indispensable pour sauvegarder des donéees."},{text:"Non"}]},{qid:"0.2.5.1.1",type:"slider",q:"Nombre potentiel de tables ?",min:1,max:30,step:1},{qid:"0.2.5.1.2",type:"button",q:"Les utilisateurs doivent pouvoir se connecter ?",c:[{text:"Oui",help:""},{text:"Non"}]}]},"5e84":function(e,t,n){"use strict";var i=n("086a"),s=n.n(i);s.a},afc4:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),s=n("bc3a"),r=n.n(s),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.questionsDone?n("div",{staticClass:"big-container"},[n("div",{staticClass:"vertical-center final"},[n("p",[e._v("Votre devis est compris entre "+e._s(this.priceMin)+"€ et "+e._s(this.priceMax)+"€")]),n("button",{staticClass:"button-choice",on:{click:function(t){e.restart()}}},[e._v("Recommencer")]),n("button",{staticClass:"button-choice",on:{click:function(t){e.send()}}},[e._v("Envoyer la demande de devis")])])]):n("div",{staticClass:"big-container container-choices"},[n("div",{staticClass:"vertical-center choices"},[n("p",{staticClass:"question"},[e._v(e._s(e.question))]),n("div",{staticClass:"question-underline-off"}),n("div",{staticClass:"choices-buttons"},[e._l(e.ranges,function(t,i){return n("span",{key:"range-"+i},[n("Range",{attrs:{min:t.min,max:t.max,step:t.step},on:{"range-changed":e.rangeChanged},model:{value:e.rangeValue,callback:function(t){e.rangeValue=t},expression:"rangeValue"}})],1)}),e._l(e.buttons,function(t,i){return n("span",{key:"button-"+i},[n("Button",{attrs:{id:t.id,text:t.text,help:t.help},nativeOn:{click:function(n){e.buttonClicked(t.id,t.price,t.num,t.back||!1)}}})],1)})],2)]),n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar-filled",style:{width:e.currentPercent+"%"}},[e._v(e._s(e.currentPercent)+"%")])])])])},u=[],a=(n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("28a5"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"button-choice",attrs:{"attr-id":e.id,title:e.help}},[e._v(e._s(e.text))])}),c=[],l={name:"Button",props:{id:String,text:String,help:String},data:function(){return{}},computed:{},methods:{},mounted:function(){}},p=l,d=n("2877"),h=Object(d["a"])(p,a,c,!1,null,null,null);h.options.__file="Button.vue";var v=h.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{change:function(t){e.$emit("range-changed",e.value)},__r:function(t){e.value=t.target.value}}}),n("p",{attrs:{id:"range-value"}},[e._v(e._s(e.value))])])},m=[],b={name:"Range",props:{min:Number,max:Number,step:Number},data:function(){return{value:0}},computed:{},methods:{},mounted:function(){this.value=this.min,this.$emit("range-changed",this.value)}},x=b,g=Object(d["a"])(x,f,m,!1,null,null,null);g.options.__file="Range.vue";var q=g.exports,y=n("4243"),_=1200,Q={name:"price",components:{Button:v,Range:q},mounted:function(){this.nextChoice(this.currentQuestion)},data:function(){return{data:y,currentQuestion:"0",prevQuestions:[],question:"",backButton:{id:"-1",text:"Back",price:0,back:!0},buttons:[],ranges:[],priceMin:0,priceMax:0,questionsDone:!1,currentPercent:0,rangeValue:0,questionToAnswer:{}}},computed:{prevQuestion:function(){return this.prevQuestions[this.prevQuestions.length-1]||"0"}},methods:{nextChoice:function(e){var t=this.getQuestionById(e);if(void 0===t)return $(".choices").removeClass("choice-new"),$(".choices").addClass("choice-done"),!0;t=$.extend(!0,{},t);var n=[];if("slider"==t.type){var i=t.min||1,s=t.max||2,r=t.step||1;n.push({min:i,max:s,step:r}),t.c||(t.c=[]),t.c.push({id:"1",text:"Valider !",price:t.price||0})}var o=!1;"0"!=e&&(t.c.unshift(this.backButton),o=!0);var u=[];for(var a in t.c){var c=Number(a),l=t.c[a].text||"no text",p=t.c[a].help||null,d=t.c[a].price||0,h=t.c[a].back||!1,v=o?0:1,f=a-o?1:0,m=e;if(t.decision)m+="."+(c+v)+".1";else if(t.next)m=t.next;else{var b=e.split("."),x=Number(b.pop());x++,m=b.join(".")+"."+x}o&&0==c&&(m=this.prevQuestion),u.push({id:m,text:l,help:p,price:d,num:f,back:h})}var g=this;setTimeout(function(){$(".choices").removeClass("choice-done"),$(".choices").addClass("choice-new"),$(".question-underline-off").removeClass("question-underline"),setTimeout(function(){$(".question-underline-off").addClass("question-underline")},10),g.question=t.q,g.ranges=n,g.buttons=u},_)},setRangeValue:function(e){$("p#range-value").text(e)},rangeChanged:function(e){this.rangeValue=e},buttonClicked:function(e,t,n){var i=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(s){var r=this.getQuestionById(this.prevQuestion),o=r.price;if("slider"===r.type)o*=this.questionToAnswer[r.qid],o&&(this.priceMin-=o,this.priceMax-=o);else{var u=r.c[this.questionToAnswer[r.qid]];o=u.price,o&&(this.priceMin-=o[0],this.priceMax-=o[1])}delete this.questionToAnswer[this.prevQuestion],this.currentQuestion=this.prevQuestion,this.prevQuestions.pop()}else this.questionToAnswer[this.currentQuestion]=n,this.ranges.length>0&&(t*=this.rangeValue,this.questionToAnswer[this.currentQuestion]=this.rangeValue),Array.isArray(t)&&2==t.length?(this.priceMin+=t[0],this.priceMax+=t[1]):"number"===typeof t&&(this.priceMin+=t,this.priceMax+=t),this.prevQuestions.push(this.currentQuestion),this.currentQuestion=e;this.setPercent(),$(".choices").removeClass("choice-new"),$(".choices").addClass("choice-done");var a=this.nextChoice(this.currentQuestion);a&&setTimeout(function(){i.buttons=[],i.ranges=[],$("div.final").addClass("final-new"),i.questionsDone=!0},_)},getQuestionById:function(e){return this.data.filter(function(t){return t.qid==e})[0]},restart:function(){this.currentQuestion="0",this.prevQuestions=[],this.question="",this.priceMin=0,this.priceMax=0,this.rangeValue=0,this.questionsDone=!1,this.doneQuestions={},this.questionToAnswer={},this.setPercent(0),this.nextChoice(this.currentQuestion)},send:function(){alert("send")},setPercent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t){var n=Object.keys(this.questionToAnswer).length,i=this.data.filter(function(t){return t.qid.includes(e.removeLastNum(e.currentQuestion))}).length+n,s=Number(this.getLastNum(this.currentQuestion));i-=s-1;var r=0;r=0==i?100:"0"===this.currentQuestion?0:Math.round(100*n/i),r>100&&(r=100);var o=1;this.currentPercent>r&&(o=-1);var u=setInterval(c,25),a=this}else this.currentPercent=t;function c(){a.currentPercent==r?clearInterval(u):a.currentPercent+=o}},removeLastNum:function(e){var t=e.split(".");return t.pop(),t.join(".")},getLastNum:function(e){var t=e.split(".");return t[t.length-1]}}},C=Q,w=(n("5e84"),Object(d["a"])(C,o,u,!1,null,null,null));w.options.__file="App.vue";var N=w.exports;i["a"].config.productionTip=!1,i["a"].prototype.$axios=r.a,new i["a"]({render:function(e){return e(N)}}).$mount("#app")}});
//# sourceMappingURL=price.dc2567c1.js.map