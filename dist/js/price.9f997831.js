(function(e){function t(t){for(var n,a,o=t[0],u=t[1],c=t[2],p=0,d=[];p<o.length;p++)a=o[p],s[a]&&d.push(s[a][0]),s[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var u=i[o];0!==s[u]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={price:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;r.push([1,"chunk-vendors"]),i()})({"086a":function(e,t,i){},1:function(e,t,i){e.exports=i("afc4")},4243:function(e){e.exports=[{qid:"0",type:"button",q:"Quel type de développement ?",decision:!0,c:[{text:"Site web",price:[200,1e3]},{text:"Application mobile",help:"Application Android uniquement",price:[1e3,2e3]}]},{qid:"0.1.1",type:"slider",q:"Nombre potentiel de pages ?",min:1,max:15,step:1,price:100},{qid:"0.1.2",type:"button",q:"Quel type de site web ?",decision:!0,c:[{text:"Vitrine",help:"",price:[200,500]},{text:"Dynamique",help:"",price:[500,1e3]}]},{qid:"0.1.2.1.1",type:"button",q:"Faut-il une page de contact ?",c:[{text:"Oui",help:"Cette page permet aux visiteurs de votre site de vous contacter.",price:[200,300]},{text:"Non"}]},{qid:"0.1.2.2.1",type:"button",q:"Faut-il un accès administrateur restreint ?",c:[{text:"Oui",help:"",price:[500,1500]},{text:"Non"}]},{qid:"0.1.2.2.2",type:"button",q:"Faut-il une base de données ?",decision:!0,c:[{text:"Oui",help:"Indispensable pour sauvegarder des donéees.",price:500},{text:"Non"}]},{qid:"0.1.2.2.2.1.1",type:"slider",q:"Nombre potentiel de tables ?",min:1,max:30,step:1,price:75},{qid:"0.1.2.2.2.1.2",type:"button",q:"Les utilisateurs doivent pouvoir se connecter ?",c:[{text:"Oui",help:"",price:1e3},{text:"Non"}]},{qid:"0.2.1",type:"button",q:"Quelle plateforme ?",c:[{text:"Android",help:""},{text:"Multi-Plateforme",help:""}]},{qid:"0.2.2",type:"slider",q:"Nombre potentiel de visuels ?",min:1,max:30,step:1},{qid:"0.2.3",type:"button",q:"Besoin d'une API externe ?",c:[{text:"Oui",help:""},{text:"Non",help:""}]},{qid:"0.2.4",type:"button",q:"Besoin d'un backend ?",c:[{text:"Oui",help:""},{text:"Non",help:""}]},{qid:"0.2.5",type:"button",q:"Faut-il une base de données ?",decision:!0,c:[{text:"Oui",help:"Indispensable pour sauvegarder des donéees."},{text:"Non"}]},{qid:"0.2.5.1.1",type:"slider",q:"Nombre potentiel de tables ?",min:1,max:30,step:1},{qid:"0.2.5.1.2",type:"button",q:"Les utilisateurs doivent pouvoir se connecter ?",c:[{text:"Oui",help:""},{text:"Non"}]}]},"5e84":function(e,t,i){"use strict";var n=i("086a"),s=i.n(n);s.a},afc4:function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),s=i("bc3a"),r=i.n(s),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.questionsDone?e._e():i("div",{staticClass:"big-container container-choices"},[i("div",{staticClass:"vertical-center choices"},[i("p",{staticClass:"question"},[e._v(e._s(e.question))]),i("div",{staticClass:"question-underline-off"}),i("div",{staticClass:"choices-buttons"},[e._l(e.ranges,function(t,n){return i("span",{key:"range-"+n},[i("Range",{attrs:{min:t.min,max:t.max,step:t.step},on:{"range-changed":e.rangeChanged},model:{value:e.rangeValue,callback:function(t){e.rangeValue=t},expression:"rangeValue"}})],1)}),e._l(e.buttons,function(t,n){return i("span",{key:"button-"+n},[i("Button",{attrs:{id:t.id,help:t.help},nativeOn:{click:function(i){e.buttonClicked(t.id,t.price,t.num,t.back||!1)}}},[i("span",{domProps:{innerHTML:e._s(t.text)}})])],1)})],2)]),i("div",{staticClass:"progress-bar"},[i("div",{staticClass:"progress-bar-filled",style:{width:e.currentPercent+"%"}},[e._v(e._s(e.currentPercent)+"%")])])]),e.questionsDone&&!e.sendPriceRequest?i("div",{staticClass:"big-container"},[i("div",{staticClass:"vertical-center final final-new"},[i("p",[e._v("Votre devis est compris entre "+e._s(this.priceMin)+"€ et "+e._s(this.priceMax)+"€")]),i("button",{staticClass:"button-choice",on:{click:function(t){e.restart()}}},[i("i",{staticClass:"fa fa-undo"}),e._v(" Recommencer")]),i("button",{staticClass:"button-choice",on:{click:function(t){e.send()}}},[i("i",{staticClass:"fa fa-paper-plane"}),e._v(" Envoyer la demande de devis")])])]):e._e(),e.sendPriceRequest?i("div",{staticClass:"big-container total"},[i("div",{staticClass:"request request-new row"},[e._m(0),i("div",{staticClass:"col-lg-6"},[i("div",{staticClass:"input-bloc"},[i("label",[e._v("Prénom")]),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{name:"firstName",required:"",placeholder:"Prénom"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}})]),i("div",{staticClass:"input-bloc"},[i("label",[e._v("Nom")]),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{name:"lastName",required:"",placeholder:"Nom"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),i("div",{staticClass:"input-bloc"},[i("label",[e._v("Email")]),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{name:"mail",required:"",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),i("div",{staticClass:"col-lg-6"},[i("div",{staticClass:"input-bloc"},[i("label",[e._v("Votre message")]),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.userMsg,expression:"userMsg"}],staticClass:"msg",attrs:{rows:"8"},domProps:{value:e.userMsg},on:{input:function(t){t.target.composing||(e.userMsg=t.target.value)}}})])]),i("div",{staticClass:"col-lg-12 text-center"},[null!=e.errorForm?i("p",{staticClass:"error-form"},[e._v(e._s(e.errorForm))]):e._e(),i("button",{staticClass:"button-choice",on:{click:function(t){e.restart()}}},[i("i",{staticClass:"fa fa-undo"}),e._v(" Recommencer")]),i("button",{staticClass:"button-choice",attrs:{type:"submit"},on:{click:function(t){e.realSend()}}},[i("i",{staticClass:"fa fa-paper-plane"}),e._v(" Envoyer")])])])]):e._e()])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-lg-12"},[i("p",[e._v("Les informations que vous avez saisies sont enregistrées. Merci de remplir les informations ci-dessous et de les accompagner d'un message expliquant plus en détail votre projet.")]),i("br")])}],u=(i("6762"),i("2fdb"),i("ac6a"),i("456d"),i("28a5"),i("c5f6"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"button-choice",attrs:{"attr-id":e.id,title:e.help}},[e._t("default")],2)}),c=[],l={name:"Button",props:{id:String,help:String},data:function(){return{}},computed:{},methods:{},mounted:function(){}},p=l,d=i("2877"),m=Object(d["a"])(p,u,c,!1,null,null,null);m.options.__file="Button.vue";var h=m.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{change:function(t){e.$emit("range-changed",e.value)},__r:function(t){e.value=t.target.value}}}),i("p",{attrs:{id:"range-value"}},[e._v(e._s(e.value))])])},f=[],g={name:"Range",props:{min:Number,max:Number,step:Number},data:function(){return{value:0}},computed:{},methods:{},mounted:function(){this.value=this.min,this.$emit("range-changed",this.value)}},b=g,x=Object(d["a"])(b,v,f,!1,null,null,null);x.options.__file="Range.vue";var q=x.exports,y=i("4243"),_=1200,C={name:"price",components:{Button:h,Range:q},mounted:function(){this.nextChoice(this.currentQuestion)},data:function(){return{data:y,currentQuestion:"0",prevQuestions:[],question:"",backButton:{id:"-1",text:"<i class='fa fa-undo'></i> Retour",price:0,back:!0},buttons:[],ranges:[],priceMin:0,priceMax:0,questionsDone:!1,currentPercent:0,rangeValue:0,questionToAnswer:{},sendPriceRequest:!1,firstName:"e",lastName:"e",email:"pierre@gmail.com",userMsg:"e",errorForm:null}},computed:{prevQuestion:function(){return this.prevQuestions[this.prevQuestions.length-1]||"0"}},methods:{nextChoice:function(e){var t=this.getQuestionById(e);if(void 0===t)return $(".choices").removeClass("choice-new"),$(".choices").addClass("choice-done"),!0;t=$.extend(!0,{},t);var i=[];if("slider"==t.type){var n=t.min||1,s=t.max||2,r=t.step||1;i.push({min:n,max:s,step:r}),t.c||(t.c=[]),t.c.push({id:"1",text:"Valider !",price:t.price||0})}var a=!1;"0"!=e&&(t.c.unshift(this.backButton),a=!0);var o=[];for(var u in t.c){var c=Number(u),l=t.c[u].text||"no text",p=t.c[u].help||null,d=t.c[u].price||0,m=t.c[u].back||!1,h=a?0:1,v=u-a?1:0,f=e;if(t.decision)f+="."+(c+h)+".1";else if(t.next)f=t.next;else{var g=e.split("."),b=Number(g.pop());b++,f=g.join(".")+"."+b}a&&0==c&&(f=this.prevQuestion),o.push({id:f,text:l,help:p,price:d,num:v,back:m})}var x=this;setTimeout(function(){$(".choices").removeClass("choice-done"),$(".choices").addClass("choice-new"),$(".question-underline-off").removeClass("question-underline"),setTimeout(function(){$(".question-underline-off").addClass("question-underline")},10),x.question=t.q,x.ranges=i,x.buttons=o},_)},setRangeValue:function(e){$("p#range-value").text(e)},rangeChanged:function(e){this.rangeValue=e},buttonClicked:function(e,t,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(s){var r=this.getQuestionById(this.prevQuestion),a=r.price;if("slider"===r.type)a*=this.questionToAnswer[r.qid],a&&(this.priceMin-=a,this.priceMax-=a);else{var o=r.c[this.questionToAnswer[r.qid]];a=o.price,a&&(this.priceMin-=a[0],this.priceMax-=a[1])}delete this.questionToAnswer[this.prevQuestion],this.currentQuestion=this.prevQuestion,this.prevQuestions.pop()}else this.questionToAnswer[this.currentQuestion]=i,this.ranges.length>0&&(t*=this.rangeValue,this.questionToAnswer[this.currentQuestion]=this.rangeValue),Array.isArray(t)&&2==t.length?(this.priceMin+=t[0],this.priceMax+=t[1]):"number"===typeof t&&(this.priceMin+=t,this.priceMax+=t),this.prevQuestions.push(this.currentQuestion),this.currentQuestion=e;this.setPercent(),$(".choices").removeClass("choice-new"),$(".choices").addClass("choice-done");var u=this.nextChoice(this.currentQuestion);u&&setTimeout(function(){n.buttons=[],n.ranges=[],n.questionsDone=!0},_)},getQuestionById:function(e){return this.data.filter(function(t){return t.qid==e})[0]},restart:function(){this.currentQuestion="0",this.prevQuestions=[],this.question="",this.priceMin=0,this.priceMax=0,this.rangeValue=0,this.questionsDone=!1,this.doneQuestions={},this.questionToAnswer={},this.sendPriceRequest=!1,this.setPercent(0),this.nextChoice(this.currentQuestion)},setPercent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t){var i=Object.keys(this.questionToAnswer).length,n=this.data.filter(function(t){return t.qid.includes(e.removeLastNum(e.currentQuestion))}).length+i,s=Number(this.getLastNum(this.currentQuestion));n-=s-1;var r=0;r=0==n?100:"0"===this.currentQuestion?0:Math.round(100*i/n),r>100&&(r=100);var a=1;this.currentPercent>r&&(a=-1);var o=setInterval(c,25),u=this}else this.currentPercent=t;function c(){u.currentPercent==r?clearInterval(o):u.currentPercent+=a}},send:function(){var e=this;$(".final").removeClass("final-new"),$(".final").addClass("final-done"),setTimeout(function(){return e.sendPriceRequest=!0},_)},realSend:function(){for(var e in this.questionToAnswer){var t=this.questionToAnswer[e],i=this.data.filter(function(t){return t.qid==e})[0];i&&i.qid&&(i.q+": ","buton"==i.type?i.c[t].text+"\n":t+"\n")}var n=["Prénom","Nom","Email","Message"],s=[this.firstName,this.lastName,this.email,this.msg];for(var r in s)if(""===s[r])return void(this.errorForm="Veuillez saisir le champ "+n[r]);if(this.validateEmail(this.email)){this.errorForm="";var a={firstName:this.firstName,lastName:this.lastName,email:this.email,msg:this.userMsg};console.log(a),mg.messages.create("localhost",{from:"Test User <do-not-reply@pierre-leroy.fr>",to:["pierre.leroy.mail@gmail.com"],subject:"Test",text:"Testing some Mailgun awesomness!",html:"<h1>Testing some Mailgun awesomness!</h1>"}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}else this.errorForm="Email invalide"},removeLastNum:function(e){var t=e.split(".");return t.pop(),t.join(".")},getLastNum:function(e){var t=e.split(".");return t[t.length-1]},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}}},N=C,w=(i("5e84"),Object(d["a"])(N,a,o,!1,null,null,null));w.options.__file="App.vue";var P=w.exports;i("4989"),i("ab8b");n["a"].config.productionTip=!1,n["a"].prototype.$axios=r.a,new n["a"]({render:function(e){return e(P)}}).$mount("#app")}});
//# sourceMappingURL=price.9f997831.js.map